---
title: "Week #5"
---

# **Week #5**

## Feedback

### Sessions \+ Analysis

**Meeting With 319**

We view the 319 university team as the most likely maintainer (people who will
manage and moderate the system) of the university’s instance of EvOps. The
meeting was attended by Arsen and Asqar from the EvOps side and Leysan Islamova,
Evgenia Dujakova, and Arina Talan from 319\. During the session, we presented
the idea and discussed these topics:

- General plan of our implementation.
- Preferred features of the app (e.g. tutorials, calendars, etc.).
- Content moderation by maintainers.
- Integration to the ecosystem.
- PR among students.

The team supported the idea and showed their interest. At the end, we decided on
our vector of development and discussed potential future meetings after creating
the product.

**Meeting With the Software Department**

One of the most crucial points discussed with 319 was integration into Innopolis
University’s ecosystem. To explore this area further, we conducted a meeting
with an employee of the Internal Development Department, Timofey Sedov (hello
👋). The session was focused on possibilities of integrating EvOps into the My
University service and the IU ecosystem overall from the technical viewpoint.
Some discussed topic include:

- Future plans for EvOps and IU ecosystem development.
- Technology stacks.
- Technical support of EvOps in the future.

During the discussion, we agreed that My University already has some
functionality we were planning to develop. All in all, we settled on that
possibly just part of EvOps’s functionality is going to be integrated into the
university, which in turn gave us more freedom and flexibility.

**Surveying Students**

While we haven’t deliberately conducted any other meetings with potential users,
we’ve used some chances to talk about EvOps with people casually. For instance,
we’ve listened to opinions of active students and what they would expect from a
system like ours. In general, we’ve already thought through most of their ideas.

## Iteration & Refinement

### Implemented features based on feedback

Although we haven’t yet implemented the discussed features, they are waiting
their turn in the backlog while we implement the core functionality. Here are
relevant issues:

- Moderator service
  ([issue](https://github.com/evops-sum25/evops-website/issues/29)).
- UI customization by maintainers
  ([issue](https://github.com/evops-sum25/evops-website/issues/32)).
- Telegram parser for new and existing events’
  ([issue](https://github.com/evops-sum25/evops/issues/50)).
- Event Calendar
  ([issue](https://github.com/evops-sum25/evops-website/issues/31)).
- PWA ([issue](https://github.com/evops-sum25/evops-website/issues/5)).

### Performance & Stability

We have no worries about our back end’s performance. It is both highly robust
and blazingly fast. Some reasons behind include:

- Rust, as the fastest language suitable for back-end development (Zig is too
  young, C++ is just 💀).
  - Its type system and libraries (e.g., `nutype`) effectively guarantee the
    absence of runtime bugs for most cases that would need more careful handling
    in other languages.

- Asynchronous APIs that don’t block while serving requests. Also, our async
  runtime (Tokio) is multithreaded, which leads to true parallelism.

- PostgreSQL, as the fastest mainstream DBMS.
  - It is shared between the main server and the ML server to avoid unnecessary
    data transfers through the network.
- Diesel, as the fastest _type-safe_ library to communicate with the database.
- A gRPC-based API to avoid the overhead of serializing/deserializing JSONs.
- Careful design of our systems, avoiding unnecessary clones and allocations.

The website, written with Next.js, utilizes server-side rendering to avoid
increase load times. Soon, we will add request/response caching to avoid
unnecessary calls to the back end.

Points of Android app performance efficiency:

- Kotlin: Native performance with smooth animations and quick responses.
- Efficient API calls: Loads data only when needed (first launch or user
  request), not on every screen switch.
- Image caching: Coil library caches all the network images, so they load
  instantly after the first load.
- Optimized state management: No reloading on screen rotations, theme changing,
  or screen switch.

### Documentation

Right now, our repositories have simple `README` files with build instructions.

All of our back-end methods are documented with an autogenerated
[OpenAPI schema](http://31.59.170.53:8080/api.json) \+
[Swagger UI](http://31.59.170.53:8080/swagger). Additionally, our
[gRPC API](https://github.com/evops-sum25/evops-client-ext/blob/main/proto/evops/api/v1/api.proto)
is documented with doc-comments, often respected by code generation utilities.

### ML Model Refinement

To evaluate the recommendation system model and choose the hyperparameter lambda
(`profile = good_profile - lambda * bad_profile`) and weights for the user’s
interactions, we have chosen **the MovieLens 20M dataset**
([link](https://www.kaggle.com/datasets/grouplens/movielens-20m-dataset?select=link.csv))
that contains film ratings from users (from 1 to 5 stars). Reviews with a rating
of 3 stars or higher were considered relevant for a user, and the rating itself
was chosen as an interaction. The users were selected based on `99.99`
percentile of the total number of reviews (around 76000 entries).

For each user, the good profile was constructed as a weighted sum of the
embeddings of films with corresponding ratings of 3 or more stars; on the
contrary, the bad profile was constructed from low-rated films.

The lambda parameter was taking values from `[0, 2]` with a step of `0.1`, and
the weight for the interaction was being chosen arbitrarily. Metrics such as
`NDCG@k` and `RR` were increased significantly for the values around 1, and it
was observed that good and bad interactions should have approximately the same
absolute values. Such observations were accounted for in the recommendation
system service class.

In the future, this model may be improved using the actual users’ data from our
application.

## Weekly Commitments

### Individual Contribution of Each Participant

#### Aleksandr Isupov

- Updated Android data models to match the new backend
  ([commit](https://github.com/evops-sum25/evops-android/commit/0ba06f3575335239b057d5e052513f1e4e428d79)).
- Integrated image posting into the Android app
  ([commit](https://github.com/evops-sum25/evops-android/commit/7860d570732ed76ff424fd1e15abbfc31d676aa2)):
  - Added new UI components for image selection and preview.
  - Implemented a multipart API method for image uploads.
  - Added URI-to-File conversion for the image picker.
- Fixed the unsaved state issue on the Create Event screen
  ([commit](https://github.com/evops-sum25/evops-android/commit/7860d570732ed76ff424fd1e15abbfc31d676aa2)).

#### Arsen Galiev

- Updated the logic for fetching images from the back end on the website
  ([commit](https://github.com/evops-sum25/evops-website/commit/83ec7ad9300bd1073587fd3816a53a4529e13843)).
- Designed a new icon/logo
  ([commit](https://github.com/evops-sum25/evops-website/commit/93e1aa3ead96b1b736cfbc5ab5eebd0d3b8c74e8)).
- Found a new color theme for the website.
- Integrated TanStack
  ([issue](https://github.com/evops-sum25/evops-website/issues/7)).

#### Asqar Arslanov

- Fixed gRPC image streaming from the back end
  ([commit](https://github.com/evops-sum25/evops-backend/commit/dc511998ce1599151c26bd78acde077615a79737)).
- Fixed the website not building due to type errors
  ([commit](https://github.com/evops-sum25/evops-website/commit/b5df278906bde8f3756c9c4f1e6ba6e1743ad8d6)).
- Configured the ML server’s build environment
  ([commit](https://github.com/evops-sum25/evops-ml/commit/5ca5d4e9656052c89cba84190904b32718176175)).
- Fixed the interaction between the back-end and ML servers
  ([commit](https://github.com/evops-sum25/evops-backend/commit/2861752f5b4a84c8d48ab3cc66159577c02aadef)).
- Updated the structure of `dummy-data`
  ([commit 1](https://github.com/evops-sum25/evops-dummy-data/commit/0c0a96195d1c3b76e5d68233e59e487bde3c54cc),
  [commit 2](https://github.com/evops-sum25/evops-dummy-data/commit/93dcd95223d8e2ce0d397507f08fd653eb296b0c),
  [commit 3](https://github.com/evops-sum25/evops-dummy-data/commit/93dcd95223d8e2ce0d397507f08fd653eb296b0c)).
- Added CORS-preflight requests handling to the back end
  ([commit](https://github.com/evops-sum25/evops-backend/commit/5c20cab21cc28467d6ae95cdda1039e2fe75451c)).
- Made the back end wait for the ML server
  ([commit](https://github.com/evops-sum25/evops-backend/commit/bf61e05f752df273d5b9a6f16a9efc449eb8e91d)).
- Small contributions:
  - Removed Scalar (Swagger alternative) support
    ([issue](https://github.com/evops-sum25/evops-backend/issues/15)).
  - Settled on the Tombi TOML formatter
    ([commit 1](https://github.com/evops-sum25/evops-backend/commit/bb76a4fdbe252dc2b144bb2c9af7765b),
    [commit 2](https://github.com/evops-sum25/evops-ml/commit/a8c36281535d4b43f14310e824568c395b6b43e1),
    [commit 3](https://github.com/evops-sum25/evops-client-ext/commit/5206a13379ca59d36dcc9fcc598ea0213d5e7756),
    [commit 4](https://github.com/evops-sum25/evops-server-ext/commit/6b6c84d02a7436f104aed0c6e6307c2f20a1fb3e)).
  - Set a favicon to the back-end docs
    ([commit](https://github.com/evops-sum25/evops-backend/commit/d67deed48147fd2d0a994f1c420e0132a1d5f0fa)).

#### Egor Pustovoytenko

- Finished the ML server implementation
  ([commit](https://github.com/evops-sum25/evops-ml/commit/6c2113994e65537eb6551fa14234667e739ba371)).
- Implemented an ML client for the back-end server
  ([commit](https://github.com/evops-sum25/evops-backend/commit/1a0fbca222c68de3c9a9f3ce5e2e3d6fd9aed88b)).
- Refactored the client extension for backend-to-ML communication
  ([commit](https://github.com/evops-sum25/evops-client-ext/commit/b36e69006e2abec25fef8542c3df50b45a884f8b)).

#### Ilya-Linh Nguen

- Updated the CD file for the new architecture of services
  ([commit](https://github.com/evops-sum25/evops/commit/695baf441d2a4bfe0a3f72fcac04c24236f56440)).
- Finally finished with the `dev` and `hmr` Dockerfiles for better DX and added
  new Docker Compose profiles
  ([commit](https://github.com/evops-sum25/evops/commit/8f907e9964c807b263c9357c4e7a2b54be47a68e)).
- Introduced a small Docker fix in ML and the Compose files
  ([commit](https://github.com/evops-sum25/evops/commit/2a8d6562c5c7e94a2e6359dba0d30d9fbd598a6d)).

#### Maksim Ilin

- Implemented the recommendation system service class
  ([commit](https://github.com/evops-sum25/evops-ml/commit/b67a5b90be7718554f61b67b17e6ab72a652eceb)).
- Augmented the dummy data with the 1700 posts from the “Opportunities For You”
  telegram channel
  ([commit](https://github.com/evops-sum25/evops-dummy-data/commit/72fb92d56356c05683fa279b4f0b1f46329f0d2a)).

#### Ramil Shakirzyanov

- Tested and benchmarked VRAM consumption and speed of different tag generation
  model configurations
  ([commit](https://github.com/evops-sum25/evops-ml/commit/d80321b036fd1e9dd92d60dd5cda8bb811f6e407)).
- Tested and benchmarked VRAM consumption and speed of different RecSys
  embedding model configurations
  ([commit](https://github.com/evops-sum25/evops-ml/commit/207006b5b10b473d494c8d6848446e5b08732b32)).

## Plan for Next Week

### DevOps

- Close issues regarding Dockerfiles (healthcheck).
- Buy and set a domain.
- Refactor CI/CD actions.

### Machine Learning

- Implement the machine translation feature.
- Make the tag output for the auto-tagging model gradual.

### Back End

- Prepare the database for the recommendation system.
- Expose the recommendation system through the ML server.
- Add authentication.

### Android

- Update Create Event screen to include new fields: tags, location, date & time
  (depends on the back end).
- Integrate new fields to the Event Details screen (depends on the back end).
- Make the search field on the Event List screen functional (depends on the back
  end).
- Add validation to the Event List screen form.

### Website

- Paginate the event feed.
- Add authentication and guards.
- Create a PWA.

## Confirmation of the Code’s Operability

We confirm that the code in the `main` branch:

- [x] Is in working condition.
- [x] Runs via Docker Compose.
